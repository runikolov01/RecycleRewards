<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<style>
    @import url('https://fonts.googleapis.com/css?family=Bree+Serif');




    body{
        font-family: 'Bree Serif', serif;
        color: #FFFFFF;
    }
    .container{
        align-content: center;
        display: flex;
        margin: 140px auto;
        width: 400px;
        height: 500px;
        background: blue;
        border-radius: 20px;
    }
    .login{
        font-size: 24px;
        cursor: pointer;
        padding-top: 10px;
        text-align: center;
        display: block;
        position: absolute;
        margin-top: -20px;
        width: 200px;
        height: 70px;
        background: blue;
        border-top-right-radius: 15px;
        box-shadow: 2px black;
        transition: margin 0.5s, border-top-right-radius 0.8s, border-bottom-right-radius 0.8s;
    }
    .singin{
        font-size: 24px;
        cursor: pointer;
        padding-top: 10px;
        text-align: center;
        display: block;
        position: absolute;
        margin: 0 200px;
        width: 200px;
        height: 50px;
        background: red;
        border-bottom-left-radius: 15px;
        transition: margin 0.5s,border-top-left-radius 0.8s, border-bottom-left-radius 0.8s;
    }
    .button{
        .login{
            margin: 0;
            background: red;
            height: 50px;
            border-top-right-radius: 0;
            border-bottom-right-radius: 15px;
            transition: margin 0.5s, border-top-right-radius 0.8s, border-bottom-right-radius 0.8s;
        }
        .singin{
            font-size: 24px;
            cursor: pointer;
            padding-top: 10px;
            text-align: center;
            display: block;
            position: absolute;
            margin: -20px 200px;
            width: 200px;
            height: 70px;
            background: blue;
            border-top-left-radius: 15px;
            transition: margin 0.5s, border-top-left-radius 0.8s, border-bottom-left-radius 0.8s;
        }
    }
    .login-enter{
        position: absolute;
        margin: 100px 50px;
        width: 300px;
        height: 35px;
        background: #FFFFFF;
        z-index: 1;
        color: blue;
        font-size: 20px;
        text-align: center;
    }
    .mail-enter{
        position: absolute;
        margin: 160px 50px;
        width: 300px;
        height: 35px;
        background: #FFFFFF;
        z-index: 1;
        color: blue;
        font-size: 20px;
        text-align: center;
    }
    .password-enter{
        position: absolute;
        margin: 220px 50px;
        width: 300px;
        height: 35px;
        background: #FFFFFF;
        color: blue;
        z-index: 1;
        font-size: 20px;
        text-align: center;
    }
    .second-password{
        position: absolute;
        margin: 280px 50px;
        width: 300px;
        height: 35px;
        background: #FFFFFF;
        z-index: 1;
        color: blue;
        font-size: 20px;
        text-align: center;
    }
    input[type='text']::-webkit-input-placeholder{
        text-align: center;
        color: blue;
        font-size: 18px;
        opacity: 0.5;
    }
    input[type='password']::-webkit-input-placeholder{
        text-align: center;
        color: blue;
        font-size: 18px;
        opacity: 0.5;
    }
    .submit-reg{
        position: absolute;
        margin: 400px 50px;
        width: 300px;
        height: 50px;
        background:blue;
        z-index: 1;
        color: #FFFFFF;
        font-size: 20px;
        text-align: center;
        border: none;
        &:active{
            opacity: 0.5;
        }
    }
    .submit-enter{
        display: none;
    }
    .check-conditions{
        position: absolute;
        display: block;
        margin: 340px 50px;
        width: 20px;
        height: 50px;
        background: blue;
        z-index: 1;
    }
    .agree{
        text-align: center;
        font-weight: bold;
        font-family: Arial;
        position: absolute;
        margin: 350px 80px;
        color: #49A5B6;
        font-size: 14px;
        text-decoration: none;
    }

    .button{
        .login-enter{
            margin: 100px 50px;
        }
        .mail-enter{
            margin: 160px 50px;
        }
        .password-enter{
            margin: 220px 50px;
        }
        .second-password{
            display: none;
        }
        .check-conditions{
            display: none;
        }
        .agree{
            display: none;
        }
        .submit-reg{
            opacity: 0;
        }
        .submit-enter{
            display: block;
            position: absolute;
            margin: 300px 50px;
            width: 300px;
            height: 50px;
            background: blue;
            z-index: 1;
            color: #FFFFFF;
            font-size: 20px;
            text-align: center;
            border: none;
            &:active{
                opacity: 0.5;
            }
        }
    }

</style>
<body>
<div class='container'>

    <div class='button-reg'>
        <div class='login'>SingUp</div>
        <div class='singin'>LogIn</div>
    </div>

    <form name='enter'>
        <input type='text' name='login' class='login-enter' placeholder='Enter yor Login' required></input>
        <input type='text' name='mail' class='mail-enter' placeholder='Enter yor e-mail address' required></input>
        <input type='password' name='password' class='password-enter' placeholder='Enter yor password' required></input>
        <input type='password' name='rapiat-password' class='second-password' placeholder='Repiat yor password' required></input>
        <input type='submit' name='submit-reg' class='submit-reg' value='Sing Up'></input>
        <input type='checkbox' name='conditions' class='check-conditions' required></input>
        <a href='#' class='agree'>I have read and agree to </br> the terms of registration</a>
    </form>

    <input type='submit' name='submit-enter' class='submit-enter' value='Log in' required></input>
</div>

</body>
<script>
    //full name validation
    document.querySelector('#full-name').addEventListener('blur',(event)=>{
        let err = document.querySelector(".error-messg");
        err.innerText = "";
        try{
            //if field empty
            if(event.target.validity.valueMissing)
                throw event.target.validationMessage;

            else if(event.target.validity.patternMismatch){
                //event.target.setCustomValidity("Enter A valid name");
                throw "Please enter a valid name!";
            }

            else{
                event.target.style.borderBottomColor = 'green';
                err.innerText = "";
            }
        }

        catch(messg){
            err.innerText = messg;
        }

    });


    //to validate email
    document.querySelector('#email').addEventListener('blur',(event)=>{
        validateEmail(event);
    });

    //to validate confirm email
    document.querySelector('#confirm-email').addEventListener('blur',(event)=>{
        validateEmail(event);
        validateConfirmation(document.querySelector('#email'),event.target);
    });


    //function for email and confirm email validation
    function validateEmail(event){
        let error = event.target.nextElementSibling;
        error.innerText = "";
        try{

            if(event.target.validity.valueMissing)
                throw event.target.validationMessage;

            else if(!event.target.validity.valid || event.target.value.slice(-4)!='.com')
                throw "Please enter a valid email.";

            else
                event.target.style.borderBottom = '2px solid green';

        }


        catch(messg){
            error.innerText = messg;
        }

    }

    //for validating confirm
    function validateConfirmation(el,cEl){
        if(el.value == cEl.value){
            cEl.nextElementSibling.innerText = "";
            document.querySelector('[type="submit"]').removeAttribute('disabled');
        }

        else{
            cEl.nextElementSibling.innerText = "Confirm email not mached!";
            document.querySelector('[type="submit"]').setAttribute('disabled',"disabled");
        }
    }


    //validating contact number
    document.querySelector('#contact-no').addEventListener('blur',function(event){
        let error = event.target.nextElementSibling ;
        error.innerText = "";
        try{
            if(event.target.validity.valueMissing)
                throw event.target.validationMessage;

            else if(event.target.value.length!=10)
                throw "Please enter 10 digit mobile number.";

            else
                event.target.style.borderBottom = "2px solid green";
        }
        catch(messg){
            error.innerText = messg;
        }
    });


    //password show/hide functionality
    document.querySelector('.passkey-icon').addEventListener('click',displayPassword);
    document.querySelectorAll('.passkey-icon')[1].addEventListener('click',displayPassword);

    function displayPassword(event){
        if(event.target.parentNode.getAttribute('data-display-passkey')=='off'){
            event.target.parentNode.setAttribute('data-display-passkey','on');
            event.target.setAttribute('class','fas fa-eye-slash');
            event.target.parentElement.previousSibling.previousSibling.setAttribute('type','text');
            console.log(event.target.parentElement.previousSibling.previousSibling);
        }
        else{
            event.target.parentNode.setAttribute('data-display-passkey','off');
            event.target.setAttribute('class','fas fa-eye');
            event.target.parentElement.previousSibling.previousSibling.setAttribute('type','password');
        }
    }


    //adding to password field
    document.querySelector("#passkey").addEventListener('blur',validatePassword);

    //password validation
    function validatePassword(event){
        let error = event.target.parentElement.nextElementSibling;
        error.innerText = "";
        try{
            console.log((event.target.value));
            console.log();
            if(event.target.validity.valueMissing)
                throw event.target.validationMessage;

            else if(!(/[0-9]{4,}/g).test(event.target.value)){
                throw "There must be atleast 4 digit.";
            }

            else if(event.target.value.length<8 || event.target.value.length>15){

                throw "Password must be 8 to 15 charaters.";
            }

            else{
                document.querySelector('[type="submit"]').removeAttribute('disabled');
                event.target.style.borderBottom = "2px solid green";
            }

        }
        catch(messg){
            document.querySelector('[type="submit"]').setAttribute('disabled',"disabled");
            error.innerText = messg;
        }
        console.log(error);
    }


    //confirm password validation
    document.querySelector('#confirm-passkey').addEventListener('blur',function(event){
        try{
            var error = document.querySelectorAll('.error-messg')[5];
            error.innerText = "";
            if(event.target.validity.valueMissing)
                throw event.target.validationMessage;

            else if(document.querySelector('#passkey').value != event.target.value){
                throw "Password not matched!";
            }

            else{
                document.querySelector('[type="submit"]').removeAttribute('disabled');
                event.target.style.borderBottom = "2px solid green";
            }
        }

        catch(messg){
            document.querySelector('[type="submit"]').setAttribute('disabled',"disabled");
            error.innerText = messg;
        }
    });

    console.log(document.querySelector('#email'));
</script>
</html>